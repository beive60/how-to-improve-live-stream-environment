# EP001 / AE-01: OBS音ズレを根治する - サンプリングレート統一とバッファサイズの正解

## 必要な動画素材

### 画面キャプチャ

- OBS設定画面（設定 > 音声 > サンプリングレート選択）
- Windowsサウンド設定画面（再生/録音デバイスのプロパティ > 詳細 > 既定の形式）
- オーディオインターフェースのコントロールパネル（サンプリングレート設定）
- OBS 詳細オーディオプロパティ画面（同期オフセット設定）
- OBS 音声ミキサーの波形表示

### デモ映像

- 音ズレが発生している状態のOBSプレビュー映像（映像と音声のタイミングが合っていない状態）
- サンプリングレートが不一致な状態の各デバイス設定を順番に表示する操作録画
- サンプリングレートを統一した後、音ズレが解消される様子
- バッファサイズ変更前後のレイテンシー差を示すデモ

### 図解・テロップ素材

- オーディオ信号フロー図（マイク → オーディオIF → Windows → OBS → 配信先）
- サンプリングレート不一致時のリサンプリング処理を示す波形図
- バッファサイズとレイテンシーの関係を示すグラフ
- トラブルシューティングチェックリスト（確認すべき設定箇所の一覧）

## 必要機材

### 所有済み

- マイク: Audio-Technica AT-2020
- オーディオIF: Roland VT-4（Phase 1の収録・デモに使用可能）
- PC1 / PC2（OBSの音声設定デモ用）

### 追加購入（推奨）

- DSP内蔵オーディオIF（RME Babyface Pro FS / MOTU M4 / Audient iD14 mk II）
  - VT-4でもサンプリングレート統一の解説は可能だが、本格的なオーディオIFのコントロールパネルを使った設定画面のデモがあると説得力が増す
  - AE-05以降で必須となるため、本エピソード制作前に確保しておくと以降のAEドメイン全体で活用できる
  - 購入前であればVT-4のコントロールパネルで代替可能

---

## 実験ノート

### 音ズレの再現: No. 1

#### 検証日時

2026/02/21

#### 検証環境

- OS: Windows 11 Home (Version 225H2, 64-bit)
- CPU: AMD Ryzen 7 7800X3D 8-Core Processor
- RAM: 31.6GB
- OBS Studio: 32.0.0.4 (64bit)

#### 録音デバイス設定

- デバイス: Logicool C920n HD Pro ウェブカメラ (マイク)
- Windows設定: 48kHz

#### 録画ファイル情報

映像:

- コーデック: HEVC (H.265 Main)
- 解像度: 1920x1080
- フレームレート: 60 fps
- 映像ビットレート: 34 kb/s
- カラースペース: yuv420p (bt709)

音声:

- コーデック: AAC LC
- サンプリングレート: 44100 Hz (44.1kHz)
- チャンネル: ステレオ
- 音声ビットレート: 159 kb/s
- オーディオトラック数: 6トラック

### 試験パターン

```yaml
"1":
  obs_sampling_rate: 44100
  timestamping_sync: true
  file_path: "production/EP001-obs-audio-sync/data/2026-02-21_15-50-22.mp4"
"2":
  obs_sampling_rate: 48000
  timestamping_sync: true
  file_path: "production/EP001-obs-audio-sync/data/2026-02-21_16-20-02.mp4"
"3":
  obs_sampling_rate: 44100
  timestamping_sync: false
  file_path: "production/EP001-obs-audio-sync/data/2026-02-21_16-36-22.mp4"
"4":
  obs_sampling_rate: 48000
  timestamping_sync: false
  file_path: "production/EP001-obs-audio-sync/data/2026-02-21_16-53-50.mp4"

```

### 検証結果

結論から述べると本検証では音声ドリフトが観測されなかった。一時的に1-2フレームのズレは発生するものの、時間経過とともにズレが拡大する現象は確認できなかった。サンプリングレート不一致によるリサンプリング処理が行われていることはファイル情報から確認できるが、OBSの内部処理やWindowsのオーディオスタックの仕様により、音声ドリフトが発生しないようになっている可能性がある。
